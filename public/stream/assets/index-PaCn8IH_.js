var de=Object.defineProperty;var X=e=>{throw TypeError(e)};var fe=(e,t,n)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var m=(e,t,n)=>fe(e,typeof t!="symbol"?t+"":t,n),Y=(e,t,n)=>t.has(e)||X("Cannot "+n);var s=(e,t,n)=>(Y(e,t,"read from private field"),n?n.call(e):t.get(e)),L=(e,t,n)=>t.has(e)?X("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_=(e,t,n,a)=>(Y(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();var c;(function(e){e.LOAD="LOAD",e.EXEC="EXEC",e.FFPROBE="FFPROBE",e.WRITE_FILE="WRITE_FILE",e.READ_FILE="READ_FILE",e.DELETE_FILE="DELETE_FILE",e.RENAME="RENAME",e.CREATE_DIR="CREATE_DIR",e.LIST_DIR="LIST_DIR",e.DELETE_DIR="DELETE_DIR",e.ERROR="ERROR",e.DOWNLOAD="DOWNLOAD",e.PROGRESS="PROGRESS",e.LOG="LOG",e.MOUNT="MOUNT",e.UNMOUNT="UNMOUNT"})(c||(c={}));const ue=(()=>{let e=0;return()=>e++})(),pe=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),Ee=new Error("called FFmpeg.terminate()");var O,T,A,P,k,B,R;class he{constructor(){L(this,O,null);L(this,T,{});L(this,A,{});L(this,P,[]);L(this,k,[]);m(this,"loaded",!1);L(this,B,()=>{s(this,O)&&(s(this,O).onmessage=({data:{id:t,type:n,data:a}})=>{switch(n){case c.LOAD:this.loaded=!0,s(this,T)[t](a);break;case c.MOUNT:case c.UNMOUNT:case c.EXEC:case c.FFPROBE:case c.WRITE_FILE:case c.READ_FILE:case c.DELETE_FILE:case c.RENAME:case c.CREATE_DIR:case c.LIST_DIR:case c.DELETE_DIR:s(this,T)[t](a);break;case c.LOG:s(this,P).forEach(o=>o(a));break;case c.PROGRESS:s(this,k).forEach(o=>o(a));break;case c.ERROR:s(this,A)[t](a);break}delete s(this,T)[t],delete s(this,A)[t]})});L(this,R,({type:t,data:n},a=[],o)=>s(this,O)?new Promise((r,l)=>{const p=ue();s(this,O)&&s(this,O).postMessage({id:p,type:t,data:n},a),s(this,T)[p]=r,s(this,A)[p]=l,o==null||o.addEventListener("abort",()=>{l(new DOMException(`Message # ${p} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(pe));m(this,"load",({classWorkerURL:t,...n}={},{signal:a}={})=>(s(this,O)||(_(this,O,t?new Worker(new URL(t,import.meta.url),{type:"module"}):new Worker(new URL("/stream/assets/worker-DYSz7Krg.js",import.meta.url),{type:"module"})),s(this,B).call(this)),s(this,R).call(this,{type:c.LOAD,data:n},void 0,a)));m(this,"exec",(t,n=-1,{signal:a}={})=>s(this,R).call(this,{type:c.EXEC,data:{args:t,timeout:n}},void 0,a));m(this,"ffprobe",(t,n=-1,{signal:a}={})=>s(this,R).call(this,{type:c.FFPROBE,data:{args:t,timeout:n}},void 0,a));m(this,"terminate",()=>{const t=Object.keys(s(this,A));for(const n of t)s(this,A)[n](Ee),delete s(this,A)[n],delete s(this,T)[n];s(this,O)&&(s(this,O).terminate(),_(this,O,null),this.loaded=!1)});m(this,"writeFile",(t,n,{signal:a}={})=>{const o=[];return n instanceof Uint8Array&&o.push(n.buffer),s(this,R).call(this,{type:c.WRITE_FILE,data:{path:t,data:n}},o,a)});m(this,"mount",(t,n,a)=>{const o=[];return s(this,R).call(this,{type:c.MOUNT,data:{fsType:t,options:n,mountPoint:a}},o)});m(this,"unmount",t=>{const n=[];return s(this,R).call(this,{type:c.UNMOUNT,data:{mountPoint:t}},n)});m(this,"readFile",(t,n="binary",{signal:a}={})=>s(this,R).call(this,{type:c.READ_FILE,data:{path:t,encoding:n}},void 0,a));m(this,"deleteFile",(t,{signal:n}={})=>s(this,R).call(this,{type:c.DELETE_FILE,data:{path:t}},void 0,n));m(this,"rename",(t,n,{signal:a}={})=>s(this,R).call(this,{type:c.RENAME,data:{oldPath:t,newPath:n}},void 0,a));m(this,"createDir",(t,{signal:n}={})=>s(this,R).call(this,{type:c.CREATE_DIR,data:{path:t}},void 0,n));m(this,"listDir",(t,{signal:n}={})=>s(this,R).call(this,{type:c.LIST_DIR,data:{path:t}},void 0,n));m(this,"deleteDir",(t,{signal:n}={})=>s(this,R).call(this,{type:c.DELETE_DIR,data:{path:t}},void 0,n))}on(t,n){t==="log"?s(this,P).push(n):t==="progress"&&s(this,k).push(n)}off(t,n){t==="log"?_(this,P,s(this,P).filter(a=>a!==n)):t==="progress"&&_(this,k,s(this,k).filter(a=>a!==n))}}O=new WeakMap,T=new WeakMap,A=new WeakMap,P=new WeakMap,k=new WeakMap,B=new WeakMap,R=new WeakMap;var J;(function(e){e.MEMFS="MEMFS",e.NODEFS="NODEFS",e.NODERAWFS="NODERAWFS",e.IDBFS="IDBFS",e.WORKERFS="WORKERFS",e.PROXYFS="PROXYFS"})(J||(J={}));const me=new Error("failed to get response body reader"),Re=new Error("failed to complete download"),ge="Content-Length",we=e=>new Promise((t,n)=>{const a=new FileReader;a.onload=()=>{const{result:o}=a;o instanceof ArrayBuffer?t(new Uint8Array(o)):t(new Uint8Array)},a.onerror=o=>{var r,l;n(Error(`File could not be read! Code=${((l=(r=o==null?void 0:o.target)==null?void 0:r.error)==null?void 0:l.code)||-1}`))},a.readAsArrayBuffer(e)}),Oe=async e=>{let t;if(typeof e=="string")/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(e instanceof URL)t=await(await fetch(e)).arrayBuffer();else if(e instanceof File||e instanceof Blob)t=await we(e);else return new Uint8Array;return new Uint8Array(t)},ye=async(e,t)=>{var o;const n=await fetch(e);let a;try{const r=parseInt(n.headers.get(ge)||"-1"),l=(o=n.body)==null?void 0:o.getReader();if(!l)throw me;const p=[];let i=0;for(;;){const{done:y,value:S}=await l.read(),D=S?S.length:0;if(y){if(r!=-1&&r!==i)throw Re;t&&t({url:e,total:r,received:i,delta:D,done:y});break}p.push(S),i+=D,t&&t({url:e,total:r,received:i,delta:D,done:y})}const u=new Uint8Array(i);let E=0;for(const y of p)u.set(y,E),E+=y.length;a=u.buffer}catch(r){console.log("failed to send download progress event: ",r),a=await n.arrayBuffer()}return a},q=async(e,t,n=!1,a)=>{const o=n?await ye(e,a):await(await fetch(e)).arrayBuffer(),r=new Blob([o],{type:t});return URL.createObjectURL(r)},ae=document.getElementById("transcodeStatus"),K=document.getElementById("transcodeText"),oe=document.getElementById("transcodeBar"),d={NONE:"none",TRANSCODING:"doing",DONE:"done",ERROR:"error",SKIPPED:"skipped"},w={NONE:"none",UPLOADING:"uploading",DONE:"done",ERROR:"error"};console.log("[DEBUG]",{crossOriginIsolated:window.crossOriginIsolated,sab:typeof SharedArrayBuffer,location:location.href});const M=document.getElementById("autoUploadAfterTranscode");function Se(){return M==null?void 0:M.checked}let v=null,I=null,F=!1;function Ne(){if(I&&I.readyState===WebSocket.OPEN)return;const t=`${location.protocol==="https:"?"wss":"ws"}://${location.host}/ws/stream`;I=new WebSocket(t);let n=null;I.onopen=()=>{n=setInterval(()=>{I.readyState===WebSocket.OPEN&&I.send(JSON.stringify({type:"keepalive"}))},25e3),console.log("[WS] stream connected")},I.onclose=()=>{clearInterval(n),console.warn("[WS] stream disconnected")},I.onerror=a=>{clearInterval(n),console.warn("[WS] stream error",a)},I.onmessage=a=>{let o;try{o=JSON.parse(a.data)}catch{console.warn("[WARN] failed to parse websocket message");return}console.log("receive websocket message"),o.type==="stream-status"&&(o.status==="error"&&(z(),f("âŒ æ¨æµå‡ºé”™ï¼Œè¯·è”ç³»ç®¡ç†å‘˜","error")),o.status==="stopped"&&(z(),f("â¹ æ¨æµå·²ç»“æŸ","info")),o.status==="running"&&f("âœ… æ¨æµä¸­","ok"),o.status==="info"&&f(`${o.message}`,"info"))}}async function x(){if(v)return v;const e=await fetch("/api/internal/admin-token");if(!e.ok)throw new Error("æ— æ³•è·å– admin token");return v=(await e.json()).token,v}const h=[],j=new Set,V=document.getElementById("playlist"),Z=document.getElementById("emptyTip"),Q=document.getElementById("status"),C=document.getElementById("mode"),$=document.getElementById("loopSelector"),H=document.getElementById("loopTarget"),De=document.getElementById("fileInput");function re(e){return`${e.name}|${e.size}|${e.lastModified}`}function Ie(e){return(e/1024/1024).toFixed(1)+" MB"}function f(e,t=""){Q.textContent=e,Q.className="status "+t}function g(){if(V.innerHTML="",H.innerHTML="",h.length===0){Z.style.display="block",$.classList.add("hidden");return}Z.style.display="none",h.forEach((e,t)=>{const n=e.originalFile;let a="",o="";e.transcodeStatus===d.DONE||e.transcodeStatus===d.SKIPPED?(a="âœ… å·²è½¬ç ",o="ok"):e.transcodeStatus===d.TRANSCODING?(a="â³ æ­£åœ¨è½¬ç ",o="info"):e.transcodeStatus===d.ERROR&&(a="âŒ è½¬ç å¤±è´¥",o="error");let r="",l="";e.cacheStatus===w.DONE?(r="ğŸ“¦ å·²ç¼“å­˜",l="ok"):e.cacheStatus===w.UPLOADING?(r="ğŸ“¦ ä¸Šä¼ ä¸­",l="info"):e.cacheStatus===w.ERROR&&(r="ğŸ“¦ ä¸Šä¼ å¤±è´¥",l="error");let p=`
            <div class="actions">
                <button onclick="removeItem(${t})">ç§»é™¤</button>
            </div>
        `;e.transcodeStatus===d.ERROR&&(p=`
                <div class="actions">
                <button onclick="retryTranscode(${t})">ğŸ” é‡è¯•</button>
                <button onclick="removeItem(${t})">ç§»é™¤</button>
                </div>
            `),e.cacheStatus===w.ERROR&&(p=`
                <div class="actions">
                <button onclick="retryCacheUpload(${t})">ğŸ“¦ é‡è¯•ä¸Šä¼ </button>
                <button onclick="removeItem(${t})">ç§»é™¤</button>
                </div>
            `);const i=document.createElement("li");i.innerHTML=`
            <span>
                ${t+1}. ${n.name}
                <span class="small">(${Ie(n.size)})</span>
                ${a?`<span class="small ${o}" style="margin-left:8px;">${a}</span>`:""}
                ${r?`<span class="small ${l}" style="margin-left:6px;">${r}</span>`:""}
            </span>
            ${p}
            `,V.appendChild(i);const u=document.createElement("option");u.value=t,u.textContent=n.name,H.appendChild(u)}),C.value==="loop"&&$.classList.remove("hidden")}async function Ae(e){const t=h[e];t&&(t.transcodeStatus=d.NONE,g(),f(`è¯·ç‚¹å‡»å¼€å§‹æ¨æµæ¥é‡æ–°è½¬ç ï¼š${t.originalFile.name}`))}async function Le(e){const t=h[e];if(!(!t||t.transcodeStatus!==d.DONE))try{t.cacheStatus=w.UPLOADING,g(),await ie(t,t.transcodedFile,t.fingerprint),t.cacheStatus=w.DONE}catch{console.warn(`[WARN] failed to upload transcoded video: ${t.originalFile.name}`),t.cacheStatus=w.ERROR}finally{g()}}function Te(){return h.some(e=>e.transcodeStatus===d.ERROR)}function be(){return h.some(e=>e.transcodeStatus===d.DONE||e.transcodeStatus===d.SKIPPED)}function Pe(e){const n=h[e].originalFile;j.delete(re(n)),h.splice(e,1),g()}async function ke(e){const t=await e.arrayBuffer(),n=await crypto.subtle.digest("SHA-256",t);return[...new Uint8Array(n)].map(a=>a.toString(16).padStart(2,"0")).join("")}async function ee(e){const t=await x(),n=await fetch("/api/stream/check",{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":t},body:JSON.stringify({fingerprint:e})});return n.ok?await n.json():null}function W(){ae.style.display="none"}function se(){const e=navigator.userAgent;if(/^((?!chrome|android).)*safari/i.test(e))return!1;let n=!1;try{n=typeof SharedArrayBuffer<"u"}catch{n=!1}return!_e()&&n&&"Worker"in window}function _e(){return/Mobi|Android|iPhone|iPad/i.test(navigator.userAgent)}function Fe(e){if(h.length===1)return!1;const t=h.some(n=>n.transcodeStatus===d.ERROR);return!(e===h.length-1&&!t)}function z(){for(const e of h)(e.transcodeStatus===d.SKIPPED||e.transcodeStatus===d.DONE)&&(e.transcodeStatus=d.NONE)}async function Ue(){if(h.length===0){f("âŒ æ’­æ”¾åˆ—è¡¨ä¸ºç©º","error");return}z();const e=C.value,t=new FormData,n=await x(),a=se();f(a?"ğŸ–¥ï¸ æ¡Œé¢ç¯å¢ƒï¼Œä½¿ç”¨å®¢æˆ·ç«¯è½¬ç â€¦":"ğŸ“± ç§»åŠ¨ç«¯æˆ–ä¸æ”¯æŒè½¬ç ï¼Œä½¿ç”¨æœåŠ¡å™¨è½¬ç â€¦");const o=[],r=[];if(e==="loop"){const i=Number(H.value),u=h[i],E=u.originalFile,y=u.fingerprint,S=await ee(y);if(S!=null&&S.exists)r.push({filePath:S.path,index:i}),u.transcodeStatus=d.DONE,g();else{if(!a){f("âŒ å½“å‰ç¯å¢ƒä¸æ”¯æŒå®¢æˆ·ç«¯è½¬ç ","error");return}console.log("[INFO] å¼€å§‹è½¬ç ..."),U(0,"å‡†å¤‡è½¬ç ç¬¬ 1 / 1 ä¸ªè§†é¢‘"),u.transcodeStatus=d.TRANSCODING,g();const D=await ne(E,0,1);o.push({file:D,fingerprint:y,index:i}),u.transcodeStatus=d.DONE,g()}t.append("loopIndex",i)}else{const i=h.length;for(let u=0;u<h.length;u++){const E=h[u];if(E.transcodeStatus===d.DONE||E.transcodeStatus===d.SKIPPED){E.transcodeStatus=d.SKIPPED;continue}if(E.transcodeStatus===d.ERROR)continue;const y=E.originalFile,S=E.fingerprint,D=await ee(S);if(D!=null&&D.exists){r.push({filePath:D.path,index:u}),E.transcodeStatus=d.NONE,E.cacheStatus=w.DONE,g();continue}if(!a){f("âŒ å½“å‰ç¯å¢ƒä¸æ”¯æŒå®¢æˆ·ç«¯è½¬ç ","error");return}U(0,`å‡†å¤‡è½¬ç ç¬¬ ${u+1} / ${i} ä¸ªè§†é¢‘ï¼š${y.name}`),E.transcodeStatus=d.TRANSCODING,g(),console.log("[INFO] å¼€å§‹è½¬ç ...");try{const b=await ne(y,u,i);if(o.push({file:b,fingerprint:S,index:u}),E.transcodedFile=b,E.transcodeStatus=d.DONE,g(),Se()&&Fe(u))try{E.cacheStatus=w.UPLOADING,g(),await ie(E,b,S)}catch(le){console.warn("[cache] upload failed",le)}finally{g()}}catch(b){if(String(b==null?void 0:b.message).includes("called FFmpeg.terminate()")){E.transcodeStatus=d.NONE,f("è½¬ç å–æ¶ˆ"),g(),W();return}else E.transcodeStatus=d.ERROR;u==i-1&&W(),g();continue}}}if(r.length==0&&o.length==0){f("æ–‡ä»¶è½¬ç å¤±è´¥","error");return}for(const i of o)i.cacheStatus==w.DONE&&i.cachedPath.length>0?r.push({filePath:i.cachedPath,index:i.index}):(t.append("files",i.file,i.file.name),t.append("fingerprints",i.fingerprint),t.append("indexs",i.index));o.length>0&&t.append("clientTranscoded","1");for(const i of r)t.append("existing",JSON.stringify(i));if(t.append("mode",e),W(),Te()){if(!be()){alert("âŒ æ‰€æœ‰è§†é¢‘å‡è½¬ç å¤±è´¥ï¼Œæ— æ³•å¼€å§‹æ¨æµ"),f("âŒ è½¬ç å¤±è´¥ï¼Œè¯·å¤„ç†åé‡è¯•","error");return}if(f("âš ï¸ è½¬ç å®Œæˆï¼Œå­˜åœ¨å¤±è´¥è§†é¢‘ï¼Œç­‰å¾…ç¡®è®¤â€¦"),!window.confirm(`âš ï¸ æœ‰è§†é¢‘è½¬ç å¤±è´¥ã€‚

ç‚¹å‡»ã€Œç¡®å®šã€å°†å¿½ç•¥å¤±è´¥çš„è§†é¢‘ï¼Œä»…æ¨æµå·²è½¬ç æˆåŠŸçš„å†…å®¹ã€‚
ç‚¹å‡»ã€Œå–æ¶ˆã€è¿”å›å¤„ç†å¤±è´¥è§†é¢‘ï¼ˆé‡è¯•æˆ–ç§»é™¤ï¼‰ã€‚`)){f("â¸ å·²å–æ¶ˆæ¨æµï¼Œè¯·å¤„ç†å¤±è´¥çš„è§†é¢‘");return}}f("ğŸ“¡ æ­£åœ¨å¯åŠ¨æ¨æµâ€¦");const l=await fetch("/api/stream/start",{method:"POST",headers:{"x-admin-token":n},body:t}),p=await l.text();l.ok?f("âœ… æ¨æµä¸­","ok"):f("âŒ "+p,"error")}async function ve(){const e=await x();(await fetch("/api/stream/stop",{method:"POST",headers:{"x-admin-token":e}})).ok||f("è¯·æ±‚åœæ­¢æ¨æµå¤±è´¥")}async function ie(e,t,n){if(e.cacheStatus===w.DONE)return;const a=await x(),o=new FormData;o.append("file",t,t.name),o.append("fingerprint",n);const r=await fetch("/api/stream/cache",{method:"PUT",headers:{"x-admin-token":a},body:o});if(!r.ok)throw e.cacheStatus=w.ERROR,new Error("UPLOAD_CACHE_FAILED");e.cacheStatus=w.DONE,e.cachedPath=r.path}const Ce=2*60*60,$e="/stream/ffmpeg";function Be(){return $e}let N,te=!1;async function xe(){if(!(N||te)){if(!se()){console.log("[ffmpeg] client transcode not supported, skip preload");return}te=!0,f("â³ åˆå§‹åŒ–è½¬ç å¼•æ“â€¦");try{await ce(),f("âœ… è½¬ç å¼•æ“å°±ç»ª")}catch(e){console.warn("[ffmpeg] preload failed",e),f("âš ï¸ å½“å‰æµè§ˆå™¨ä¸æ”¯æŒå®¢æˆ·ç«¯è½¬ç ")}}}async function ce(){if(N)return N;N=new he;const e=Be();return await N.load({coreURL:await q(`${e}/ffmpeg-core.js`,"text/javascript"),wasmURL:await q(`${e}/ffmpeg-core.wasm`,"application/wasm")}),N.on("progress",({progress:t,time:n})=>{if(!F)return;const a=Math.min(99,Math.round(t*100));U(a)}),N.on("error",t=>console.error("[ERROR]",t.message)),N}const G=24;async function ne(e,t,n){if(e.duration&&e.duration>Ce)throw new Error("è§†é¢‘æ–‡ä»¶å¤ªå¤§ï¼Œè¯·é‡æ–°ä¸Šä¼ ä¸è¶…è¿‡2Gçš„æ–‡ä»¶ã€‚");F=!0,console.log("[INFO] loading ffmpeg");const a=await ce();console.log("[INFO] load ffmpeg success");const o=`input-${Date.now()}.mp4`,r=`output-${Date.now()}.mp4`;U(0,`å‡†å¤‡è½¬ç ç¬¬ ${t+1}/${n} ä¸ªè§†é¢‘`),await a.writeFile(o,await Oe(e));try{console.log("[INFO] start transcoding..."),await a.exec(["-i",o,"-vf",`format=yuv420p,fps=${G}`,"-c:v","libx264","-pix_fmt","yuv420p","-preset","veryfast","-crf","24","-g",String(G*2),"-keyint_min",String(G),"-sc_threshold","0","-c:a","aac","-strict","experimental","-ar","44100","-ac","2","-b:a","128k","-movflags","+faststart",r])}catch(p){throw console.error("[transcode] ffmpeg failed",p),p}finally{F=!1}let l;try{l=await a.readFile(r)}catch(p){throw console.log(`[ERROR] failed to read transcoded data, error:${p}`),p}if(!l||l.length===0)throw console.error("[transcode] empty output file",{file:e.name,size:e.size}),new Error("CLIENT_TRANSCODE_EMPTY_OUTPUT");try{await a.deleteFile(o),await a.deleteFile(r)}catch(p){console.warn(`[WARN] unlink file failed, error: ${p}`)}return console.log("[INFO] finish transcode"),U(100,"âœ… è½¬ç å®Œæˆ"),new File([l.buffer],e.name.replace(/\.\w+$/,".mp4"),{type:"video/mp4"})}async function Me(){!N||!F||(console.warn("[ffmpeg] terminate worker"),await N.terminate(),N=null,F=!1,K.textContent="è½¬ç å·²å–æ¶ˆ",oe.style.width="0%",f("â›” å·²å–æ¶ˆè½¬ç ","info"))}function U(e,t){ae.style.display="block",oe.style.width=`${e}%`,t?K.textContent=t:K.textContent=`è½¬ç ä¸­â€¦ ${e}%`}function We(){De.addEventListener("change",async e=>{xe();const t=Array.from(e.target.files);if(!t.length)return;let n=!1;for(let a=0;a<t.length;a++){const o=t[a],r=re(o);if(j.has(r))continue;const l=await ke(o);h.push({index:a,originalFile:o,fingerprint:l,transcodeStatus:d.NONE,cacheStatus:w.NONE,cachedPath:""}),j.add(r),n=!0}e.target.value="",n&&g()}),C.addEventListener("change",()=>{C.value==="loop"&&h.length>0?$.classList.remove("hidden"):$.classList.add("hidden")})}document.addEventListener("DOMContentLoaded",()=>{Ne(),We()});window.start=Ue;window.stop=ve;window.cancelTranscode=Me;window.removeItem=Pe;window.retryTranscode=Ae;window.retryCacheUpload=Le;
