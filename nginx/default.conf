server {
  listen 80;

  location / {
    root /usr/share/nginx/html;
    index index.html;
  }

  location /api/ {
    proxy_pass http://server:8081;
    proxy_http_version 1.1;
    proxy_set_header Host $host;
  }

  location /ws/ {
    proxy_pass http://server:3001;
    proxy_http_version 1.1;

    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "Upgrade";
    proxy_set_header Host $host;

    # ğŸ”¥ å…³é”®ï¼šå…³é—­ç¼“å­˜
    proxy_buffering off;

    # ğŸ”¥ å…³é”®ï¼šå»¶é•¿è¶…æ—¶ï¼ˆå¦åˆ™ä¼šè¢«è®¤ä¸ºâ€œç©ºé—²â€ï¼‰
    proxy_read_timeout 3600s;
    proxy_send_timeout 3600s;
    }
}